The document illustrates how to use different execution engines of Umbrella to execute a complex CMS application.

# parrot execution engine
umbrella \
--spec cms_simple.umbrella \
--localdir /tmp/umbrella_test/ \
--output "/tmp/cmsjob=/tmp/umbrella_test/parrot_cms_simple" \
--sandbox_mode parrot \
--log umbrella.log \
--cvmfs_http_proxy http://cache01.hep.wisc.edu:3128 \
run

# docker execution engine
# Don't do the docker test under your afs, it will fail due to the ACL of your afs.
umbrella \
--spec cms_simple.umbrella \
--localdir /tmp/umbrella_test/ \
--output "/tmp/cmsjob=/tmp/umbrella_test/docker_cms_simple" \
--sandbox_mode docker \
--log umbrella.log \
--cvmfs_http_proxy http://cache01.hep.wisc.edu:3128 \
run

# ec2 execution engine
umbrella \
--spec cms_simple.umbrella \
--localdir /tmp/umbrella_test/ \
--output "/tmp/cmsjob=/tmp/umbrella_test/ec2_cms_simple" \
--sandbox_mode ec2 \
--ec2_sshkey ~/bin/feb272015.pem \
--ec2_key feb272015 \
--ec2_instance_type m3.medium \
--ec2_log umbrella.log.ec2 \
--log umbrella.log \
--cvmfs_http_proxy http://cache01.hep.wisc.edu:3128 \
run
